<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jzfq.rms.product.persistence.dao.IRuleInfoDAO">
  <resultMap id="BaseResultMap" type="com.jzfq.rms.product.bean.RuleInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    <id column="rule_id" jdbcType="INTEGER" property="ruleId" />
    <result column="rule_No" jdbcType="VARCHAR" property="ruleNo" />
    <result column="parent_No" jdbcType="VARCHAR" property="parentNo" />
    <result column="rule_classification" jdbcType="INTEGER" property="ruleClassification" />
    <result column="rule_classic_name" jdbcType="VARCHAR" property="ruleClassicName" />
    <result column="rule_description" jdbcType="VARCHAR" property="ruleDescription" />
    <result column="rule_sorce" jdbcType="INTEGER" property="ruleSorce" />
    <result column="check_items" jdbcType="INTEGER" property="checkItems" />
    <result column="checkURL" jdbcType="VARCHAR" property="checkurl" />
    <result column="callURL" jdbcType="VARCHAR" property="callurl" />
    <result column="tactics_type_name" jdbcType="VARCHAR" property="tacticsTypeName" />
    <result column="tactics_type" jdbcType="INTEGER" property="tacticsType" />
    <result column="rule_oi_Type_Name" jdbcType="VARCHAR" property="ruleOiTypeName" />
    <result column="rule_oi_Type" jdbcType="INTEGER" property="ruleOiType" />
    <result column="state" jdbcType="INTEGER" property="state" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="creator" jdbcType="VARCHAR" property="creator" />
    <result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="updater" jdbcType="VARCHAR" property="updater" />
    <result column="deleteflag" jdbcType="INTEGER" property="deleteflag" />
  </resultMap>
  
  <resultMap id="ruleClassicMap" type="java.util.Map">
    <result column="rule_No" jdbcType="VARCHAR" property="ruleNo" />
    <result column="rule_classic_name" jdbcType="VARCHAR" property="ruleClassicName" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    `rule_id`, `rule_No`, `parent_No`, `rule_classification`, `rule_classic_name`, `rule_description`, 
    `rule_sorce`, `check_items`, `checkURL`, `callURL`, `tactics_type_name`, `tactics_type`, 
    `rule_oi_Type_Name`, `rule_oi_Type`, `state`, `create_time`, `creator`, `update_time`, 
    `updater`, `deleteflag`
  </sql>
  <select id="selectByExample" parameterType="com.jzfq.rms.product.bean.RuleInfoExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from `rule_info`
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>

  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from `rule_info`
    where `rule_id` = #{ruleId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    delete from `rule_info`
    where `rule_id` = #{ruleId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.jzfq.rms.product.bean.RuleInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    insert into `rule_info` (`rule_id`, `rule_No`, `parent_No`, 
      `rule_classification`, `rule_classic_name`, `rule_description`, 
      `rule_sorce`, `check_items`, `checkURL`, 
      `callURL`, `tactics_type_name`, `tactics_type`, 
      `rule_oi_Type_Name`, `rule_oi_Type`, `state`, 
      `create_time`, `creator`, `update_time`, 
      `updater`, `deleteflag`)
    values (#{ruleId,jdbcType=INTEGER}, #{ruleNo,jdbcType=VARCHAR}, #{parentNo,jdbcType=VARCHAR}, 
      #{ruleClassification,jdbcType=INTEGER}, #{ruleClassicName,jdbcType=VARCHAR}, #{ruleDescription,jdbcType=VARCHAR}, 
      #{ruleSorce,jdbcType=INTEGER}, #{checkItems,jdbcType=INTEGER}, #{checkurl,jdbcType=VARCHAR}, 
      #{callurl,jdbcType=VARCHAR}, #{tacticsTypeName,jdbcType=VARCHAR}, #{tacticsType,jdbcType=INTEGER}, 
      #{ruleOiTypeName,jdbcType=VARCHAR}, #{ruleOiType,jdbcType=INTEGER}, #{state,jdbcType=INTEGER}, 
      #{createTime,jdbcType=TIMESTAMP}, #{creator,jdbcType=VARCHAR}, #{updateTime,jdbcType=TIMESTAMP}, 
      #{updater,jdbcType=VARCHAR}, #{deleteflag,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.jzfq.rms.product.bean.RuleInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    insert into `rule_info`
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="ruleId != null">
        `rule_id`,
      </if>
      <if test="ruleNo != null">
        `rule_No`,
      </if>
      <if test="parentNo != null">
        `parent_No`,
      </if>
      <if test="ruleClassification != null">
        `rule_classification`,
      </if>
      <if test="ruleClassicName != null">
        `rule_classic_name`,
      </if>
      <if test="ruleDescription != null">
        `rule_description`,
      </if>
      <if test="ruleSorce != null">
        `rule_sorce`,
      </if>
      <if test="checkItems != null">
        `check_items`,
      </if>
      <if test="checkurl != null">
        `checkURL`,
      </if>
      <if test="callurl != null">
        `callURL`,
      </if>
      <if test="tacticsTypeName != null">
        `tactics_type_name`,
      </if>
      <if test="tacticsType != null">
        `tactics_type`,
      </if>
      <if test="ruleOiTypeName != null">
        `rule_oi_Type_Name`,
      </if>
      <if test="ruleOiType != null">
        `rule_oi_Type`,
      </if>
      <if test="state != null">
        `state`,
      </if>
      <if test="createTime != null">
        `create_time`,
      </if>
      <if test="creator != null">
        `creator`,
      </if>
      <if test="updateTime != null">
        `update_time`,
      </if>
      <if test="updater != null">
        `updater`,
      </if>
      <if test="deleteflag != null">
        `deleteflag`,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="ruleId != null">
        #{ruleId,jdbcType=INTEGER},
      </if>
      <if test="ruleNo != null">
        #{ruleNo,jdbcType=VARCHAR},
      </if>
      <if test="parentNo != null">
        #{parentNo,jdbcType=VARCHAR},
      </if>
      <if test="ruleClassification != null">
        #{ruleClassification,jdbcType=INTEGER},
      </if>
      <if test="ruleClassicName != null">
        #{ruleClassicName,jdbcType=VARCHAR},
      </if>
      <if test="ruleDescription != null">
        #{ruleDescription,jdbcType=VARCHAR},
      </if>
      <if test="ruleSorce != null">
        #{ruleSorce,jdbcType=INTEGER},
      </if>
      <if test="checkItems != null">
        #{checkItems,jdbcType=INTEGER},
      </if>
      <if test="checkurl != null">
        #{checkurl,jdbcType=VARCHAR},
      </if>
      <if test="callurl != null">
        #{callurl,jdbcType=VARCHAR},
      </if>
      <if test="tacticsTypeName != null">
        #{tacticsTypeName,jdbcType=VARCHAR},
      </if>
      <if test="tacticsType != null">
        #{tacticsType,jdbcType=INTEGER},
      </if>
      <if test="ruleOiTypeName != null">
        #{ruleOiTypeName,jdbcType=VARCHAR},
      </if>
      <if test="ruleOiType != null">
        #{ruleOiType,jdbcType=INTEGER},
      </if>
      <if test="state != null">
        #{state,jdbcType=INTEGER},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="creator != null">
        #{creator,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null">
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updater != null">
        #{updater,jdbcType=VARCHAR},
      </if>
      <if test="deleteflag != null">
        #{deleteflag,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.jzfq.rms.product.bean.RuleInfoExample" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    select count(*) from `rule_info`
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>

  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    update `rule_info`
    <set>
      <if test="record.ruleId != null">
        `rule_id` = #{record.ruleId,jdbcType=INTEGER},
      </if>
      <if test="record.ruleNo != null">
        `rule_No` = #{record.ruleNo,jdbcType=VARCHAR},
      </if>
      <if test="record.parentNo != null">
        `parent_No` = #{record.parentNo,jdbcType=VARCHAR},
      </if>
      <if test="record.ruleClassification != null">
        `rule_classification` = #{record.ruleClassification,jdbcType=INTEGER},
      </if>
      <if test="record.ruleClassicName != null">
        `rule_classic_name` = #{record.ruleClassicName,jdbcType=VARCHAR},
      </if>
      <if test="record.ruleDescription != null">
        `rule_description` = #{record.ruleDescription,jdbcType=VARCHAR},
      </if>
      <if test="record.ruleSorce != null">
        `rule_sorce` = #{record.ruleSorce,jdbcType=INTEGER},
      </if>
      <if test="record.checkItems != null">
        `check_items` = #{record.checkItems,jdbcType=INTEGER},
      </if>
      <if test="record.checkurl != null">
        `checkURL` = #{record.checkurl,jdbcType=VARCHAR},
      </if>
      <if test="record.callurl != null">
        `callURL` = #{record.callurl,jdbcType=VARCHAR},
      </if>
      <if test="record.tacticsTypeName != null">
        `tactics_type_name` = #{record.tacticsTypeName,jdbcType=VARCHAR},
      </if>
      <if test="record.tacticsType != null">
        `tactics_type` = #{record.tacticsType,jdbcType=INTEGER},
      </if>
      <if test="record.ruleOiTypeName != null">
        `rule_oi_Type_Name` = #{record.ruleOiTypeName,jdbcType=VARCHAR},
      </if>
      <if test="record.ruleOiType != null">
        `rule_oi_Type` = #{record.ruleOiType,jdbcType=INTEGER},
      </if>
      <if test="record.state != null">
        `state` = #{record.state,jdbcType=INTEGER},
      </if>
      <if test="record.createTime != null">
        `create_time` = #{record.createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.creator != null">
        `creator` = #{record.creator,jdbcType=VARCHAR},
      </if>
      <if test="record.updateTime != null">
        `update_time` = #{record.updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.updater != null">
        `updater` = #{record.updater,jdbcType=VARCHAR},
      </if>
      <if test="record.deleteflag != null">
        `deleteflag` = #{record.deleteflag,jdbcType=INTEGER},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    update `rule_info`
    set `rule_id` = #{record.ruleId,jdbcType=INTEGER},
      `rule_No` = #{record.ruleNo,jdbcType=VARCHAR},
      `parent_No` = #{record.parentNo,jdbcType=VARCHAR},
      `rule_classification` = #{record.ruleClassification,jdbcType=INTEGER},
      `rule_classic_name` = #{record.ruleClassicName,jdbcType=VARCHAR},
      `rule_description` = #{record.ruleDescription,jdbcType=VARCHAR},
      `rule_sorce` = #{record.ruleSorce,jdbcType=INTEGER},
      `check_items` = #{record.checkItems,jdbcType=INTEGER},
      `checkURL` = #{record.checkurl,jdbcType=VARCHAR},
      `callURL` = #{record.callurl,jdbcType=VARCHAR},
      `tactics_type_name` = #{record.tacticsTypeName,jdbcType=VARCHAR},
      `tactics_type` = #{record.tacticsType,jdbcType=INTEGER},
      `rule_oi_Type_Name` = #{record.ruleOiTypeName,jdbcType=VARCHAR},
      `rule_oi_Type` = #{record.ruleOiType,jdbcType=INTEGER},
      `state` = #{record.state,jdbcType=INTEGER},
      `create_time` = #{record.createTime,jdbcType=TIMESTAMP},
      `creator` = #{record.creator,jdbcType=VARCHAR},
      `update_time` = #{record.updateTime,jdbcType=TIMESTAMP},
      `updater` = #{record.updater,jdbcType=VARCHAR},
      `deleteflag` = #{record.deleteflag,jdbcType=INTEGER}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.jzfq.rms.product.bean.RuleInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    update `rule_info`
    <set>
      <if test="ruleNo != null">
        `rule_No` = #{ruleNo,jdbcType=VARCHAR},
      </if>
      <if test="parentNo != null">
        `parent_No` = #{parentNo,jdbcType=VARCHAR},
      </if>
      <if test="ruleClassification != null">
        `rule_classification` = #{ruleClassification,jdbcType=INTEGER},
      </if>
      <if test="ruleClassicName != null">
        `rule_classic_name` = #{ruleClassicName,jdbcType=VARCHAR},
      </if>
      <if test="ruleDescription != null">
        `rule_description` = #{ruleDescription,jdbcType=VARCHAR},
      </if>
      <if test="ruleSorce != null">
        `rule_sorce` = #{ruleSorce,jdbcType=INTEGER},
      </if>
      <if test="checkItems != null">
        `check_items` = #{checkItems,jdbcType=INTEGER},
      </if>
      <if test="checkurl != null">
        `checkURL` = #{checkurl,jdbcType=VARCHAR},
      </if>
      <if test="callurl != null">
        `callURL` = #{callurl,jdbcType=VARCHAR},
      </if>
      <if test="tacticsTypeName != null">
        `tactics_type_name` = #{tacticsTypeName,jdbcType=VARCHAR},
      </if>
      <if test="tacticsType != null">
        `tactics_type` = #{tacticsType,jdbcType=INTEGER},
      </if>
      <if test="ruleOiTypeName != null">
        `rule_oi_Type_Name` = #{ruleOiTypeName,jdbcType=VARCHAR},
      </if>
      <if test="ruleOiType != null">
        `rule_oi_Type` = #{ruleOiType,jdbcType=INTEGER},
      </if>
      <if test="state != null">
        `state` = #{state,jdbcType=INTEGER},
      </if>
      <if test="createTime != null">
        `create_time` = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="creator != null">
        `creator` = #{creator,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null">
        `update_time` = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updater != null">
        `updater` = #{updater,jdbcType=VARCHAR},
      </if>
      <if test="deleteflag != null">
        `deleteflag` = #{deleteflag,jdbcType=INTEGER},
      </if>
    </set>
    where `rule_id` = #{ruleId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.jzfq.rms.product.bean.RuleInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Nov 22 13:02:16 CST 2017.
    -->
    update `rule_info`
    set `rule_No` = #{ruleNo,jdbcType=VARCHAR},
      `parent_No` = #{parentNo,jdbcType=VARCHAR},
      `rule_classification` = #{ruleClassification,jdbcType=INTEGER},
      `rule_classic_name` = #{ruleClassicName,jdbcType=VARCHAR},
      `rule_description` = #{ruleDescription,jdbcType=VARCHAR},
      `rule_sorce` = #{ruleSorce,jdbcType=INTEGER},
      `check_items` = #{checkItems,jdbcType=INTEGER},
      `checkURL` = #{checkurl,jdbcType=VARCHAR},
      `callURL` = #{callurl,jdbcType=VARCHAR},
      `tactics_type_name` = #{tacticsTypeName,jdbcType=VARCHAR},
      `tactics_type` = #{tacticsType,jdbcType=INTEGER},
      `rule_oi_Type_Name` = #{ruleOiTypeName,jdbcType=VARCHAR},
      `rule_oi_Type` = #{ruleOiType,jdbcType=INTEGER},
      `state` = #{state,jdbcType=INTEGER},
      `create_time` = #{createTime,jdbcType=TIMESTAMP},
      `creator` = #{creator,jdbcType=VARCHAR},
      `update_time` = #{updateTime,jdbcType=TIMESTAMP},
      `updater` = #{updater,jdbcType=VARCHAR},
      `deleteflag` = #{deleteflag,jdbcType=INTEGER}
    where `rule_id` = #{ruleId,jdbcType=INTEGER}
  </update>

  <!--查询执行规则-->
  <select id="getRuleClassiName" parameterType="com.jzfq.rms.product.bean.RuleInfoExample" resultMap="ruleClassicMap">
    select rule_No,rule_classic_name from rule_info
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>

  <!--查询一级规则-->
  <select id="getRuleClassificationFirst" parameterType="com.jzfq.rms.product.bean.RuleInfoExample" resultType="com.jzfq.rms.product.bean.RuleClassification">
    select rule_No ruleNo,rule_classic_name ruleClassicName
    from rule_info
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>

  <!--根据parentNo查询二级规则-->
  <select id="getRuleClassificationSecond" parameterType="map" resultType="com.jzfq.rms.product.bean.RuleClassification">
    select rule_No ruleNo,rule_classic_name ruleClassicName
    from rule_info
    where parent_No = #{parentNo,jdbcType=VARCHAR}
    and rule_classification = #{ruleClassification,jdbcType=INTEGER}
    and deleteflag = #{deleteFlag,jdbcType=INTEGER}
  </select>

</mapper>